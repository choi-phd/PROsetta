<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Scale linking with PROsetta package â€¢ PROsetta</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Scale linking with PROsetta package">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">PROsetta</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.4.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/PROsetta.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/choi-phd/PROsetta/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Scale linking with PROsetta package</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/choi-phd/PROsetta/blob/main/vignettes/PROsetta.Rmd" class="external-link"><code>vignettes/PROsetta.Rmd</code></a></small>
      <div class="hidden name"><code>PROsetta.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette explains how to perform scale linking with the
<strong>PROsetta</strong> package. For the purpose of illustration, we
replicate the linking between two scales as was studied by Choi,
Schalet, Cook, and Cella (2014):</p>
<ul>
<li>
<strong>Scale to be linked</strong>: The Center for Epidemiologic
Studies Depression scale (CES-D); 20 items, 1-4 points each, raw score
range = 20-80.</li>
<li>
<strong>Anchoring scale</strong>: The PROMIS Depression scale; 28
items, 1-5 points each, raw score range = 28-140.</li>
</ul>
</div>
<div class="section level2">
<h2 id="load-datasets">Load datasets<a class="anchor" aria-label="anchor" href="#load-datasets"></a>
</h2>
<p>The first step is to load the input dataset using
<code><a href="../reference/loadData.html">loadData()</a></code>. Scale linking requires three input parts: (1)
response data, (2) item map, and (3) anchor data. In this vignette, we
use example datasets <code>response_dep</code>,
<code>itemmap_dep</code>, <code>anchor_dep</code>. These are included in
the <strong>PROsetta</strong> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/loadData.html">loadData</a></span><span class="op">(</span></span>
<span>  response  <span class="op">=</span> <span class="va">response_dep</span>,</span>
<span>  itemmap   <span class="op">=</span> <span class="va">itemmap_dep</span>,</span>
<span>  anchor    <span class="op">=</span> <span class="va">anchor_dep</span></span>
<span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## item_id guessed as   : item_id</span></span>
<span><span class="co">## person_id guessed as : prosettaid</span></span>
<span><span class="co">## scale_id guessed as  : scale_id</span></span>
<span><span class="co">## model_id guessed as  : item_model</span></span></code></pre>
<p>The <code><a href="../reference/loadData.html">loadData()</a></code> function requires three arguments. These
are described in detail below.</p>
<div class="section level3">
<h3 id="response-data">Response data<a class="anchor" aria-label="anchor" href="#response-data"></a>
</h3>
<p>The response data contains individual item responses on both scales.
The data must include the following columns.</p>
<ul>
<li>
<strong>Person ID column.</strong> The response data must have a
column for unique IDs of participants.</li>
<li><ul>
<li>The example data <code>response_dep</code> uses
<code>prosettaid</code> as the column name, but it can be named
differently as long as the same column name does not appear in other
data parts. For example, see how item map <code>itemmap_dep</code> and
anchor data <code>anchor_dep</code> do not have a column named
<code>prosettaid</code>.</li>
</ul></li>
<li>
<strong>Item response columns.</strong> The response data must
include item response columns</li>
<li><ul>
<li>The item response columns must be named using their item IDs.</li>
</ul></li>
<li><ul>
<li>The item IDs must match item IDs appearing in item map and anchor
data. For example, see how the item IDs appearing in
<code>response_dep</code> exactly matches item IDs appearing in
<code>itemmap_dep</code>. Also, see how the item IDs appearing in
<code>anchor_dep</code> are a subset of item IDs appearing in
<code>response_dep</code>.</li>
</ul></li>
</ul>
<p>Below is an example of response data.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">response_dep</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   prosettaid EDDEP04 EDDEP05 EDDEP06 EDDEP07 EDDEP09 EDDEP14 EDDEP17 EDDEP19</span></span>
<span><span class="co">## 1     100048       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">## 2     100049       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">## 3     100050       1       1       1       1       1       1       2       1</span></span>
<span><span class="co">## 4     100051       1       2       1       1       1       2       2       2</span></span>
<span><span class="co">## 5     100052       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">## 6     100053       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">##   EDDEP21 EDDEP22 EDDEP23 EDDEP26 EDDEP27 EDDEP28 EDDEP29 EDDEP30 EDDEP31</span></span>
<span><span class="co">## 1       2       1       1       1       1       1       1       2       2</span></span>
<span><span class="co">## 2       1       1       1       2       1       1       1       1       1</span></span>
<span><span class="co">## 3       2       1       1       2       2       2       2       2       2</span></span>
<span><span class="co">## 4       2       1       2       2       1       1       2       1       2</span></span>
<span><span class="co">## 5       1       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">## 6       1       1       2       2       1       1       1       1       1</span></span>
<span><span class="co">##   EDDEP35 EDDEP36 EDDEP39 EDDEP41 EDDEP42 EDDEP44 EDDEP45 EDDEP46 EDDEP48</span></span>
<span><span class="co">## 1       1       2       1       1       2       2       1       2       1</span></span>
<span><span class="co">## 2       1       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">## 3       1       2       1       2       2       2       1       2       2</span></span>
<span><span class="co">## 4       2       2       1       1       1       1       1       2       1</span></span>
<span><span class="co">## 5       1       1       1       1       1       1       1       1       1</span></span>
<span><span class="co">## 6       1       2       1       1       3       2       1       1       1</span></span>
<span><span class="co">##   EDDEP50 EDDEP54 CESD1 CESD2 CESD3 CESD4 CESD5 CESD6 CESD7 CESD8 CESD9 CESD10</span></span>
<span><span class="co">## 1       1       1     1     1     1     1     1     1     1     1     1      1</span></span>
<span><span class="co">## 2       1       1     1     1     1     1     1     1     1     1     1      1</span></span>
<span><span class="co">## 3       2       2     1     1     1     1     2     1     1     1     1      1</span></span>
<span><span class="co">## 4       1       2     1     1     1     1     1     2     2     1     1      1</span></span>
<span><span class="co">## 5       1       1     1     1     1     1     1     1     1     1     1      1</span></span>
<span><span class="co">## 6       1       1     1     1     1     1     1     1     1     1     1      1</span></span>
<span><span class="co">##   CESD11 CESD12 CESD13 CESD14 CESD15 CESD16 CESD17 CESD18 CESD19 CESD20</span></span>
<span><span class="co">## 1      2      1      1      1      1      1      1      1      1      1</span></span>
<span><span class="co">## 2      2      1      1      1      1      1      1      1      1      1</span></span>
<span><span class="co">## 3      2      1      2      1      1      1      1      1      1      2</span></span>
<span><span class="co">## 4      1      1      4      1      1      1      1      1      1      2</span></span>
<span><span class="co">## 5      1      1      1      1      1      1      1      1      1      1</span></span>
<span><span class="co">## 6      2      1      1      1      1      1      1      1      1      1</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="item-map-data">Item map data<a class="anchor" aria-label="anchor" href="#item-map-data"></a>
</h3>
<p>The item map data contains information on which items belong to which
scale. The following columns are required.</p>
<ul>
<li>
<strong>Scale ID column.</strong> The item map data must have a
scale ID column indicating which scale each item belongs to.</li>
<li><ul>
<li>The example data <code>itemmap_dep</code> uses <code>scale_id</code>
as the column name, but it can be named differently as long as the same
column name does not appear in other data parts.</li>
</ul></li>
<li><ul>
<li>Also, the example data <code>itemmap_dep</code> codes the anchor
scale as Scale 1 and the scale to be linked as Scale 2, but these can be
flipped if the user wants to do so.</li>
</ul></li>
<li>
<strong>Item ID column.</strong> The item map data must have an item
ID column.</li>
<li><ul>
<li>The item IDs must match item IDs appearing in other data parts. For
example, see how the item IDs appearing in <code>itemmap_dep</code>
exactly matches item IDs appearing in <code>response_dep</code>. Also,
see how the item IDs appearing in <code>anchor_dep</code> are a subset
of item IDs appearing in <code>itemmap_dep</code>.</li>
</ul></li>
<li><ul>
<li>The example data <code>itemmap_dep</code> uses <code>item_id</code>
as the column name, but it can be named differently as long as item ID
columns use the same name across data parts. For example, see how
<code>itemmap_dep</code> and <code>anchor_dep</code> both use
<code>item_id</code>.</li>
</ul></li>
<li>
<strong>Item model column.</strong> The item map data must have an
item model column.</li>
<li><ul>
<li>Accepted values are <code>GR</code> for graded response model, and
<code>GPC</code> for generalized partial credit model.</li>
</ul></li>
<li><ul>
<li>The example data <code>itemmap_dep</code> uses
<code>item_model</code> as the column name, but it can be named
differently as long as item model columns use the same name across data
parts. For example, see how <code>itemmap_dep</code> and
<code>anchor_dep</code> both use <code>item_model</code>.</li>
</ul></li>
<li>
<code>ncat</code>: The item map data must have a column named
<code>ncat</code> containing the number of response categories of each
item.</li>
</ul>
<p>Below is an example of item map data.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">itemmap_dep</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   scale_id item_id item_model ncat</span></span>
<span><span class="co">## 1        1 EDDEP04         GR    5</span></span>
<span><span class="co">## 2        1 EDDEP05         GR    5</span></span>
<span><span class="co">## 3        1 EDDEP06         GR    5</span></span>
<span><span class="co">## 4        1 EDDEP07         GR    5</span></span>
<span><span class="co">## 5        1 EDDEP09         GR    5</span></span>
<span><span class="co">## 6        1 EDDEP14         GR    5</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="anchor-data">Anchor data<a class="anchor" aria-label="anchor" href="#anchor-data"></a>
</h3>
<p>The anchor data contains item parameters for the anchoring scale. The
following columns are required:</p>
<ul>
<li>
<strong>Item ID column.</strong> The anchor data must have an item
ID column.</li>
<li><ul>
<li>The item IDs must match item IDs appearing in other data parts. For
example, see how the item IDs appearing in <code>anchor_dep</code> are a
subset of item IDs appearing in <code>itemmap_dep</code>.</li>
</ul></li>
<li><ul>
<li>The example data <code>anchor_dep</code> uses <code>item_id</code>
as the column name, but it can be named differently as long as item ID
columns use the same name across data parts. For example, see how
<code>itemmap_dep</code> and <code>anchor_dep</code> both use
<code>item_id</code>.</li>
</ul></li>
<li>
<strong>Item model column.</strong> The anchor data must have an
item model column.</li>
<li><ul>
<li>Accepted values are <code>GR</code> for graded response model, and
<code>GPC</code> for generalized partial credit model.</li>
</ul></li>
<li><ul>
<li>The example data <code>anchor_dep</code> uses
<code>item_model</code> as the column name, but it can be named
differently as long as item model columns use the same name across data
parts. For example, see how <code>itemmap_dep</code> and
<code>anchor_dep</code> both use <code>item_model</code>.</li>
</ul></li>
<li>
<strong>Item parameter columns.</strong> The anchor data must have
item parameter columns named <code>a</code>, <code>cb1</code>,
<code>cb2</code>, and so on. These must be in the A/B parameterization
(i.e., traditional IRT parameterization for unidimensional models) so
that item probabilities are calculated based on
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mrow><mo stretchy="true" form="prefix">(</mo><mi>Î¸</mi><mo>âˆ’</mo><mi>b</mi><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">a(\theta - b)</annotation></semantics></math>.</li>
</ul>
<p>Below is an example of anchor data.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">anchor_dep</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   item_id item_model        a       cb1       cb2      cb3      cb4</span></span>
<span><span class="co">## 1 EDDEP04         GR 4.261422 0.4010694 0.9756732 1.696300 2.444072</span></span>
<span><span class="co">## 2 EDDEP05         GR 3.931743 0.3049418 0.9130961 1.593476 2.411682</span></span>
<span><span class="co">## 3 EDDEP06         GR 4.144759 0.3501130 0.9153482 1.678203 2.470526</span></span>
<span><span class="co">## 4 EDDEP07         GR 2.801804 0.1477485 0.7723478 1.602715 2.538057</span></span>
<span><span class="co">## 5 EDDEP09         GR 3.657433 0.3119582 0.9818088 1.782108 2.571127</span></span>
<span><span class="co">## 6 EDDEP14         GR 2.333381 0.1859934 0.9473173 1.728770 2.632643</span></span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="preliminary-analysis">Preliminary analysis<a class="anchor" aria-label="anchor" href="#preliminary-analysis"></a>
</h2>
<p>Preliminary analyses are commonly conducted before the main scale
linking to check for various statistical aspects of the data. The
<strong>PROsetta</strong> package offers a set of helper functions for
preliminary analyses.</p>
<div class="section level3">
<h3 id="basic-descriptive-statistics">Basic descriptive statistics<a class="anchor" aria-label="anchor" href="#basic-descriptive-statistics"></a>
</h3>
<p>The frequency distribution of each item in the response data is
obtained by <code><a href="../reference/runFrequency.html">runFrequency()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">freq_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runFrequency.html">runFrequency</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">freq_table</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##           1   2   3  4  5</span></span>
<span><span class="co">## EDDEP04 526 112  66 29 14</span></span>
<span><span class="co">## EDDEP05 488 118  91 37 12</span></span>
<span><span class="co">## EDDEP06 502 119  85 30 10</span></span>
<span><span class="co">## EDDEP07 420 155 107 49 16</span></span>
<span><span class="co">## EDDEP09 492 132  89 25  9</span></span>
<span><span class="co">## EDDEP14 445 150 101 37 14</span></span></code></pre>
<p>The frequency distribution of the summed scores for the combined
scale can be plotted as a histogram with <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>. The
required argument is a <code>PROsetta_data</code> object created with
<code><a href="../reference/loadData.html">loadData()</a></code>. The optional <code>scale</code> argument
specifies for which scale the summed score should be created. Setting
<code>scale = "combined"</code> plots the summed score distribution for
the combined scale.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">d</span>, scale <span class="op">=</span> <span class="st">"combined"</span>, title <span class="op">=</span> <span class="st">"Combined scale"</span><span class="op">)</span></span></code></pre></div>
<p><img src="PROsetta_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></p>
<p>The user can also generate the summed score distribution for the
first or second scale by specifying <code>scale = 1</code> or
<code>scale = 2</code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">d</span>, scale <span class="op">=</span> <span class="fl">1</span>, title <span class="op">=</span> <span class="st">"Scale 1"</span><span class="op">)</span> <span class="co"># not run</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">d</span>, scale <span class="op">=</span> <span class="fl">2</span>, title <span class="op">=</span> <span class="st">"Scale 2"</span><span class="op">)</span> <span class="co"># not run</span></span></code></pre></div>
<p>Basic descriptive statistics are obtained for each item by
<code><a href="../reference/runDescriptive.html">runDescriptive()</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">desc_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runDescriptive.html">runDescriptive</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">desc_table</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##           n mean   sd median trimmed mad min max range skew kurtosis   se</span></span>
<span><span class="co">## EDDEP04 747 1.52 0.94      1    1.30   0   1   5     4 1.91     3.01 0.03</span></span>
<span><span class="co">## EDDEP05 746 1.62 0.99      1    1.42   0   1   5     4 1.54     1.50 0.04</span></span>
<span><span class="co">## EDDEP06 746 1.56 0.94      1    1.37   0   1   5     4 1.66     2.01 0.03</span></span>
<span><span class="co">## EDDEP07 747 1.78 1.05      1    1.59   0   1   5     4 1.23     0.59 0.04</span></span>
<span><span class="co">## EDDEP09 747 1.56 0.91      1    1.38   0   1   5     4 1.62     1.98 0.03</span></span>
<span><span class="co">## EDDEP14 747 1.69 1.00      1    1.51   0   1   5     4 1.38     1.12 0.04</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="classical-reliability-analysis">Classical reliability analysis<a class="anchor" aria-label="anchor" href="#classical-reliability-analysis"></a>
</h3>
<p>Classical reliability statistics can be obtained by
<code><a href="../reference/runClassical.html">runClassical()</a></code>. By default, the analysis is performed for
the combined scale.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classical_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runClassical.html">runClassical</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">classical_table</span><span class="op">$</span><span class="va">alpha</span><span class="op">$</span><span class="va">combined</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Reliability analysis   </span></span>
<span><span class="co">##  raw_alpha std.alpha G6(smc) average_r S/N   ase mean   sd median_r</span></span>
<span><span class="co">##       0.98      0.98    0.99      0.53  54 9e-04  1.7 0.69     0.54</span></span></code></pre>
<p>From the above summary, we see that the combined scale (48 items) has
a good reliability (alpha = 0.98).</p>
<p>The user can set <code>scalewise = TRUE</code> to request an analysis
for each scale separately in addition to the combined scale.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classical_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runClassical.html">runClassical</a></span><span class="op">(</span><span class="va">d</span>, scalewise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">classical_table</span><span class="op">$</span><span class="va">alpha</span><span class="op">$</span><span class="va">`2`</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Reliability analysis   </span></span>
<span><span class="co">##  raw_alpha std.alpha G6(smc) average_r S/N    ase mean   sd median_r</span></span>
<span><span class="co">##       0.93      0.94    0.95      0.42  15 0.0035  1.5 0.56     0.42</span></span></code></pre>
<p>From the above summary, we see that the scale to be linked (Scale 2;
CES-D) has a good reliability (alpha = 0.93).</p>
<p>Specifying <code>omega = TRUE</code> returns the McDonaldâ€™s
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Ï‰</mi><annotation encoding="application/x-tex">\omega</annotation></semantics></math>
coefficients as well.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classical_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runClassical.html">runClassical</a></span><span class="op">(</span><span class="va">d</span>, scalewise <span class="op">=</span> <span class="cn">TRUE</span>, omega <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">classical_table</span><span class="op">$</span><span class="va">omega</span><span class="op">$</span><span class="va">combined</span> <span class="co"># omega values for combined scale</span></span>
<span><span class="va">classical_table</span><span class="op">$</span><span class="va">omega</span><span class="op">$</span><span class="va">`1`</span>      <span class="co"># omega values for each scale, created when scalewise = TRUE</span></span>
<span><span class="va">classical_table</span><span class="op">$</span><span class="va">omega</span><span class="op">$</span><span class="va">`2`</span>      <span class="co"># omega values for each scale, created when scalewise = TRUE</span></span></code></pre></div>
<p>Additional arguments can be supplied to <code><a href="../reference/runClassical.html">runClassical()</a></code>
to pass onto <code><a href="https://rdrr.io/pkg/psych/man/omega.html" class="external-link">psych::omega()</a></code>.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">classical_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runClassical.html">runClassical</a></span><span class="op">(</span><span class="va">d</span>, scalewise <span class="op">=</span> <span class="cn">TRUE</span>, omega <span class="op">=</span> <span class="cn">TRUE</span>, nfactors <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="co"># not run</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dimensionality-analysis">Dimensionality analysis<a class="anchor" aria-label="anchor" href="#dimensionality-analysis"></a>
</h3>
<p>A key assumption in item response theory is the unidimensionality
assumption. Dimensionality analysis is performed with confirmatory
factor analysis by <code><a href="../reference/runCFA.html">runCFA()</a></code>, which fits a one-factor model
to the data. Setting <code>scalewise = TRUE</code> performs the
dimensionality analysis for each scale separately in addition to the
combined scale.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cfa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runCFA.html">runCFA</a></span><span class="op">(</span><span class="va">d</span>, scalewise <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><code><a href="../reference/runCFA.html">runCFA()</a></code> calls for <code><a href="https://rdrr.io/pkg/lavaan/man/cfa.html" class="external-link">lavaan::cfa()</a></code> internally
and can pass additional arguments onto it.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cfa</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runCFA.html">runCFA</a></span><span class="op">(</span><span class="va">d</span>, scalewise <span class="op">=</span> <span class="cn">TRUE</span>, std.lv <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># not run</span></span></code></pre></div>
<p>The CFA result for the combined scale is stored in the
<code>combined</code> slot, and if <code>scalewise = TRUE</code>, the
analysis for each scale is also stored in each numbered slot.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cfa</span><span class="op">$</span><span class="va">combined</span></span></code></pre></div>
<pre><code><span><span class="co">## lavaan 0.6-19 ended normally after 23 iterations</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Estimator                                       DWLS</span></span>
<span><span class="co">##   Optimization method                           NLMINB</span></span>
<span><span class="co">##   Number of model parameters                       220</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                                                   Used       Total</span></span>
<span><span class="co">##   Number of observations                           731         747</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test User Model:</span></span>
<span><span class="co">##                                               Standard      Scaled</span></span>
<span><span class="co">##   Test Statistic                              4227.611    4700.781</span></span>
<span><span class="co">##   Degrees of freedom                              1080        1080</span></span>
<span><span class="co">##   P-value (Chi-square)                           0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  1.046</span></span>
<span><span class="co">##   Shift parameter                                          657.455</span></span>
<span><span class="co">##     simple second-order correction</span></span></code></pre>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cfa</span><span class="op">$</span><span class="va">`1`</span></span></code></pre></div>
<pre><code><span><span class="co">## lavaan 0.6-19 ended normally after 16 iterations</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Estimator                                       DWLS</span></span>
<span><span class="co">##   Optimization method                           NLMINB</span></span>
<span><span class="co">##   Number of model parameters                       140</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                                                   Used       Total</span></span>
<span><span class="co">##   Number of observations                           738         747</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test User Model:</span></span>
<span><span class="co">##                                               Standard      Scaled</span></span>
<span><span class="co">##   Test Statistic                               863.527    1434.277</span></span>
<span><span class="co">##   Degrees of freedom                               350         350</span></span>
<span><span class="co">##   P-value (Chi-square)                           0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  0.678</span></span>
<span><span class="co">##   Shift parameter                                          160.257</span></span>
<span><span class="co">##     simple second-order correction</span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_cfa</span><span class="op">$</span><span class="va">`2`</span></span></code></pre></div>
<pre><code><span><span class="co">## lavaan 0.6-19 ended normally after 20 iterations</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Estimator                                       DWLS</span></span>
<span><span class="co">##   Optimization method                           NLMINB</span></span>
<span><span class="co">##   Number of model parameters                        80</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                                                   Used       Total</span></span>
<span><span class="co">##   Number of observations                           740         747</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test User Model:</span></span>
<span><span class="co">##                                               Standard      Scaled</span></span>
<span><span class="co">##   Test Statistic                              1106.148    1431.797</span></span>
<span><span class="co">##   Degrees of freedom                               170         170</span></span>
<span><span class="co">##   P-value (Chi-square)                           0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  0.812</span></span>
<span><span class="co">##   Shift parameter                                           69.205</span></span>
<span><span class="co">##     simple second-order correction</span></span></code></pre>
<p>CFA fit indices can be obtained by using <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> from
the <em>lavaan</em> package. For the combined scale:</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">lavaan</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="va">out_cfa</span><span class="op">$</span><span class="va">combined</span>, fit.measures <span class="op">=</span> <span class="cn">TRUE</span>, standardized <span class="op">=</span> <span class="cn">TRUE</span>, estimates <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## lavaan 0.6-19 ended normally after 23 iterations</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Estimator                                       DWLS</span></span>
<span><span class="co">##   Optimization method                           NLMINB</span></span>
<span><span class="co">##   Number of model parameters                       220</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                                                   Used       Total</span></span>
<span><span class="co">##   Number of observations                           731         747</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test User Model:</span></span>
<span><span class="co">##                                               Standard      Scaled</span></span>
<span><span class="co">##   Test Statistic                              4227.611    4700.781</span></span>
<span><span class="co">##   Degrees of freedom                              1080        1080</span></span>
<span><span class="co">##   P-value (Chi-square)                           0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  1.046</span></span>
<span><span class="co">##   Shift parameter                                          657.455</span></span>
<span><span class="co">##     simple second-order correction                                </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Model Test Baseline Model:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Test statistic                            793198.138   91564.633</span></span>
<span><span class="co">##   Degrees of freedom                              1128        1128</span></span>
<span><span class="co">##   P-value                                        0.000       0.000</span></span>
<span><span class="co">##   Scaling correction factor                                  8.758</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## User Model versus Baseline Model:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   Comparative Fit Index (CFI)                    0.996       0.960</span></span>
<span><span class="co">##   Tucker-Lewis Index (TLI)                       0.996       0.958</span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Robust Comparative Fit Index (CFI)                         0.783</span></span>
<span><span class="co">##   Robust Tucker-Lewis Index (TLI)                            0.774</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Root Mean Square Error of Approximation:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   RMSEA                                          0.063       0.068</span></span>
<span><span class="co">##   90 Percent confidence interval - lower         0.061       0.066</span></span>
<span><span class="co">##   90 Percent confidence interval - upper         0.065       0.070</span></span>
<span><span class="co">##   P-value H_0: RMSEA &lt;= 0.050                    0.000       0.000</span></span>
<span><span class="co">##   P-value H_0: RMSEA &gt;= 0.080                    0.000       0.000</span></span>
<span><span class="co">##                                                                   </span></span>
<span><span class="co">##   Robust RMSEA                                               0.118</span></span>
<span><span class="co">##   90 Percent confidence interval - lower                     0.115</span></span>
<span><span class="co">##   90 Percent confidence interval - upper                     0.121</span></span>
<span><span class="co">##   P-value H_0: Robust RMSEA &lt;= 0.050                         0.000</span></span>
<span><span class="co">##   P-value H_0: Robust RMSEA &gt;= 0.080                         1.000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Standardized Root Mean Square Residual:</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##   SRMR                                           0.051       0.051</span></span></code></pre>
<p>and also for each scale separately:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">lavaan</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="va">out_cfa</span><span class="op">$</span><span class="va">`1`</span>, fit.measures <span class="op">=</span> <span class="cn">TRUE</span>, standardized <span class="op">=</span> <span class="cn">TRUE</span>, estimates <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># not run</span></span>
<span><span class="fu">lavaan</span><span class="fu">::</span><span class="fu">summary</span><span class="op">(</span><span class="va">out_cfa</span><span class="op">$</span><span class="va">`2`</span>, fit.measures <span class="op">=</span> <span class="cn">TRUE</span>, standardized <span class="op">=</span> <span class="cn">TRUE</span>, estimates <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co"># not run</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="item-parameter-calibration">Item parameter calibration<a class="anchor" aria-label="anchor" href="#item-parameter-calibration"></a>
</h3>
<p><code><a href="../reference/runCalibration.html">runCalibration()</a></code> can be used to perform free IRT
calibration for diagnostic purposes. <code><a href="../reference/runCalibration.html">runCalibration()</a></code> calls
<code><a href="https://philchalmers.github.io/mirt/reference/mirt.html" class="external-link">mirt::mirt()</a></code> internally, and additional arguments can be
supplied to be passed onto <code>mirt</code>, e.g., to increase the
number of EM cycles to 1000, as follows:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_calib</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runCalibration.html">runCalibration</a></span><span class="op">(</span><span class="va">d</span>, technical <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>NCYCLES <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>As a safeguard, if the model fit process does not converge,
<code><a href="../reference/runCalibration.html">runCalibration()</a></code> explicitly raises an error and does not
return its results.</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">out_calib</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runCalibration.html">runCalibration</a></span><span class="op">(</span><span class="va">d</span>, technical <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>NCYCLES <span class="op">=</span> <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: EM cycles terminated after 10 iterations.</span></span></code></pre>
<pre><code><span><span class="co">## Error in runCalibration(d, technical = list(NCYCLES = 10)): calibration did not converge: increase iteration limit by adjusting the 'technical' argument, e.g., technical = list(NCYCLES = 510)</span></span></code></pre>
<p>The output object from <code><a href="../reference/runCalibration.html">runCalibration()</a></code> can be used to
generate diagnostic output with functions from the <em>mirt</em>
package:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">mirt</span><span class="fu">::</span><span class="fu"><a href="https://philchalmers.github.io/mirt/reference/itemfit.html" class="external-link">itemfit</a></span><span class="op">(</span><span class="va">out_calib</span>, empirical.plot <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu">mirt</span><span class="fu">::</span><span class="fu"><a href="https://philchalmers.github.io/mirt/reference/itemplot.html" class="external-link">itemplot</a></span><span class="op">(</span><span class="va">out_calib</span>, item <span class="op">=</span> <span class="fl">1</span>, type <span class="op">=</span> <span class="st">"info"</span><span class="op">)</span></span>
<span><span class="fu">mirt</span><span class="fu">::</span><span class="fu"><a href="https://philchalmers.github.io/mirt/reference/itemfit.html" class="external-link">itemfit</a></span><span class="op">(</span><span class="va">out_calib</span>, <span class="st">"S_X2"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Scale information functions can be plotted with
<code>plotInfo</code>. The two required arguments are an output object
from <code><a href="../reference/runCalibration.html">runCalibration()</a></code> and a <code>PROsetta</code> object
from <code><a href="../reference/loadData.html">loadData()</a></code>. The additional arguments specify the
labels, colors, and line types for each scale and the combined scale.
The last values in arguments <code>scale_label</code>,
<code>color</code>, <code>lty</code> represent the values for the
combined scale.</p>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plotInfo-methods.html">plotInfo</a></span><span class="op">(</span></span>
<span>  <span class="va">out_calib</span>, <span class="va">d</span>,</span>
<span>  scale_label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PROMIS Depression"</span>, <span class="st">"CES-D"</span>, <span class="st">"Combined"</span><span class="op">)</span>,</span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blue"</span>, <span class="st">"red"</span>, <span class="st">"black"</span><span class="op">)</span>,</span>
<span>  lty <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="PROsetta_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="scale-linking-irt-based">Scale linking: IRT-based<a class="anchor" aria-label="anchor" href="#scale-linking-irt-based"></a>
</h2>
<p>Scale linking can be performed in multiple ways. This section
describes the workflow for performing an IRT-based linking.</p>
<div class="section level3">
<h3 id="obtain-linked-item-parameters">Obtain linked item parameters<a class="anchor" aria-label="anchor" href="#obtain-linked-item-parameters"></a>
</h3>
<p>The first step of IRT-based linking is to obtain linked item
parameters. This is done by <code><a href="../reference/runLinking.html">runLinking()</a></code>, which performs
scale linking based on supplied anchor item parameters. A variety of
scale linking methods are available in the <strong>PROsetta</strong>
package.</p>
<div class="section level4">
<h4 id="fixed-parameter-calibration-method">Fixed parameter calibration method<a class="anchor" aria-label="anchor" href="#fixed-parameter-calibration-method"></a>
</h4>
<p>A fixed-parameter calibration is performed by constraining item
parameters of anchor items to anchor data values, and freely estimating
item parameters for non-anchor items. The mean and the variance of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
is freely estimated to capture the difference between the current
participant group relative to the anchor participant group, assuming the
anchor group follows
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ¼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\theta \sim N(0, 1)</annotation></semantics></math>.</p>
<p>Scale linking through fixed parameter calibration is performed by
setting <code>method = "FIXEDPAR"</code>.</p>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link_fixedpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runLinking.html">runLinking</a></span><span class="op">(</span><span class="va">d</span>, method <span class="op">=</span> <span class="st">"FIXEDPAR"</span><span class="op">)</span></span></code></pre></div>
<p>From the output, the linked parameters are stored in the
<code>$ipar_linked</code> slot.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">link_fixedpar</span><span class="op">$</span><span class="va">ipar_linked</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         item_id item_model        a        b1        b2       b3       b4</span></span>
<span><span class="co">## EDDEP04 EDDEP04         GR 4.261422 0.4010694 0.9756732 1.696300 2.444072</span></span>
<span><span class="co">## EDDEP05 EDDEP05         GR 3.931743 0.3049418 0.9130961 1.593476 2.411682</span></span>
<span><span class="co">## EDDEP06 EDDEP06         GR 4.144759 0.3501130 0.9153482 1.678203 2.470526</span></span>
<span><span class="co">## EDDEP07 EDDEP07         GR 2.801804 0.1477485 0.7723478 1.602715 2.538057</span></span>
<span><span class="co">## EDDEP09 EDDEP09         GR 3.657433 0.3119582 0.9818088 1.782108 2.571127</span></span>
<span><span class="co">## EDDEP14 EDDEP14         GR 2.333381 0.1859934 0.9473173 1.728770 2.632643</span></span></code></pre>
<p>The group characteristics are stored in the <code>$mu_sigma</code>
slot.</p>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link_fixedpar</span><span class="op">$</span><span class="va">mu_sigma</span></span></code></pre></div>
<pre><code><span><span class="co">## $mu</span></span>
<span><span class="co">##          F1 </span></span>
<span><span class="co">## -0.05974137 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $sigma</span></span>
<span><span class="co">##          F1</span></span>
<span><span class="co">## F1 0.950464</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $sd</span></span>
<span><span class="co">##        F1 </span></span>
<span><span class="co">## 0.9749174 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $corr</span></span>
<span><span class="co">##    F1</span></span>
<span><span class="co">## F1  1</span></span></code></pre>
<p>From the above output, we see that the participant group in
<code>response_dep</code> had a slightly lower
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
of <code>-0.060</code> compared to the anchor group, and a slightly
smaller variance of <code>0.950</code> compared to the anchor group.</p>
</div>
<div class="section level4">
<h4 id="linear-transformation-methods">Linear transformation methods<a class="anchor" aria-label="anchor" href="#linear-transformation-methods"></a>
</h4>
<p>Linear transformation methods determine linear transformation
constants, i.e., a slope and an intercept, to transform freely estimated
item parameters to the metric defined by the anchor items. Linear
transformation methods include Mean-Mean, Mean-Sigma, Haebara, and
Stocking-Lord methods.</p>
<p>Scale linking through linear transformation is performed by setting
the <code>method</code> argument to one of the following options:</p>
<ul>
<li>
<code>MM</code> (Mean-Mean)</li>
<li>
<code>MS</code> (Mean-Sigma)</li>
<li>
<code>HB</code> (Haebara)</li>
<li>
<code>SL</code> (Stocking-Lord)</li>
</ul>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link_sl</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runLinking.html">runLinking</a></span><span class="op">(</span><span class="va">d</span>, method <span class="op">=</span> <span class="st">"SL"</span>, technical <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>NCYCLES <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">link_sl</span></span></code></pre></div>
<p>The item parameter estimates linked to the anchor metric are stored
in the <code>$ipar_linked</code> slot.</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">link_sl</span><span class="op">$</span><span class="va">ipar_linked</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   item_id item_model        a         b1        b2       b3       b4</span></span>
<span><span class="co">## 1 EDDEP04         GR 3.793029 0.46953342 1.0795406 1.723902 2.349076</span></span>
<span><span class="co">## 2 EDDEP05         GR 3.320320 0.33290477 0.8987386 1.652727 2.495477</span></span>
<span><span class="co">## 3 EDDEP06         GR 3.425877 0.38780569 1.0150119 1.791368 2.554674</span></span>
<span><span class="co">## 4 EDDEP07         GR 2.515474 0.07923606 0.8041343 1.613014 2.489916</span></span>
<span><span class="co">## 5 EDDEP09         GR 3.473048 0.33392750 1.0061990 1.872558 2.581146</span></span>
<span><span class="co">## 6 EDDEP14         GR 2.593291 0.16626048 0.8908936 1.766002 2.578976</span></span></code></pre>
<p>Transformation constants (A = slope; B = intercept) for the specified
linear transformation method are stored in the <code>$constants</code>
slot.</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link_sl</span><span class="op">$</span><span class="va">constants</span></span></code></pre></div>
<pre><code><span><span class="co">##         A         B </span></span>
<span><span class="co">##  0.982324 -0.064233</span></span></code></pre>
</div>
<div class="section level4">
<h4 id="calibrated-projection-using-fixed-parameter-calibration">Calibrated projection (using fixed-parameter calibration)<a class="anchor" aria-label="anchor" href="#calibrated-projection-using-fixed-parameter-calibration"></a>
</h4>
<p>Calibrated projection is an IRT-based multidimensional scale linking
method. Calibrated projection is performed through a multidimensional
model where the items in one scale measures its own
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
dimension, and items in another scale measures another
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
dimension.</p>
<p>In this vignette, the anchor scale (PROMIS Depression) was coded as
Scale 1, and the scale to be linked (CES-D) was coded as Scale 2. This
leads to Scale 1 items having non-zero
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>-parameters
in dimension 1, and Scale 2 items having non-zero
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>-parameters
in dimensions 2.</p>
<p>For the purpose of scale linking, calibrated projection can be
performed in conjunction with the fixed-parameter calibration technique.
The anchor item parameters are constrained to their anchor data values,
and item parameters in the non-anchor items are freely estimated. The
mean/variance of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
in the anchor dimension are freely estimated to capture the difference
between the current participant group relative to the anchor participant
group, assuming the anchor group follows
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ¼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\theta \sim N(0, 1)</annotation></semantics></math>.
The mean/variance of
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
in the scale-to-be-linked dimension are constrained to be 0/1.</p>
<p>In this vignette, this means that the mean/variance of dimension 1
(the anchor dimension) are freely estimated, and the mean/variance of
dimension 2 are constrained to be 0/1.</p>
<p>Scale linking through calibrated projection (with fixed parameter
calibration) is performed by setting <code>method = "CP"</code>.</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link_cp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runLinking.html">runLinking</a></span><span class="op">(</span><span class="va">d</span>, method <span class="op">=</span> <span class="st">"CP"</span><span class="op">)</span></span></code></pre></div>
<p>From the output, the linked parameters are stored in the
<code>$ipar_linked</code> slot. See how there are two
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>a</mi><annotation encoding="application/x-tex">a</annotation></semantics></math>-parameters,
with items in the anchor scale (PROMIS Depression) loaded onto dimension
1.</p>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">link_cp</span><span class="op">$</span><span class="va">ipar_linked</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##         item_id item_model       a1 a2         d1        d2        d3</span></span>
<span><span class="co">## EDDEP04 EDDEP04         GR 4.261422  0 -1.7091263 -4.157755 -7.228651</span></span>
<span><span class="co">## EDDEP05 EDDEP05         GR 3.931743  0 -1.1989529 -3.590059 -6.265139</span></span>
<span><span class="co">## EDDEP06 EDDEP06         GR 4.144759  0 -1.4511339 -3.793897 -6.955749</span></span>
<span><span class="co">## EDDEP07 EDDEP07         GR 2.801804  0 -0.4139624 -2.163967 -4.490492</span></span>
<span><span class="co">## EDDEP09 EDDEP09         GR 3.657433  0 -1.1409664 -3.590900 -6.517942</span></span>
<span><span class="co">## EDDEP14 EDDEP14         GR 2.333381  0 -0.4339935 -2.210452 -4.033879</span></span>
<span><span class="co">##                 d4</span></span>
<span><span class="co">## EDDEP04 -10.415221</span></span>
<span><span class="co">## EDDEP05  -9.482114</span></span>
<span><span class="co">## EDDEP06 -10.239733</span></span>
<span><span class="co">## EDDEP07  -7.111139</span></span>
<span><span class="co">## EDDEP09  -9.403727</span></span>
<span><span class="co">## EDDEP14  -6.142961</span></span></code></pre>
<p>The group characteristics are stored in the <code>$mu_sigma</code>
slot.</p>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">link_cp</span><span class="op">$</span><span class="va">mu_sigma</span></span></code></pre></div>
<pre><code><span><span class="co">## $mu</span></span>
<span><span class="co">##          F1          F2 </span></span>
<span><span class="co">## -0.07033119  0.00000000 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $sigma</span></span>
<span><span class="co">##           F1        F2</span></span>
<span><span class="co">## F1 0.9721365 0.9064387</span></span>
<span><span class="co">## F2 0.9064387 1.0000000</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $sd</span></span>
<span><span class="co">##        F1        F2 </span></span>
<span><span class="co">## 0.9859698 1.0000000 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## $corr</span></span>
<span><span class="co">##           F1        F2</span></span>
<span><span class="co">## F1 1.0000000 0.9193372</span></span>
<span><span class="co">## F2 0.9193372 1.0000000</span></span></code></pre>
<p>From the above output, we see that the participant group in
<code>response_dep</code> had a slightly lower
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
of <code>-0.070</code> compared to the anchor group, and a slightly
smaller variance of <code>0.971</code> compared to the anchor group.
Also, we see that the constructs represented by the two scales had a
correlation of <code>0.919</code>.</p>
</div>
</div>
<div class="section level3">
<h3 id="making-crosswalk-tables">Making crosswalk tables<a class="anchor" aria-label="anchor" href="#making-crosswalk-tables"></a>
</h3>
<p>The second step of IRT-based scale linking is to generate
raw-score-to-scale-score (RSSS) crosswalk tables. This is done by
<code><a href="../reference/runRSSS.html">runRSSS()</a></code>. The <code><a href="../reference/runRSSS.html">runRSSS()</a></code> function requires the
dataset object created by <code><a href="../reference/loadData.html">loadData()</a></code>, and the output object
from <code><a href="../reference/runLinking.html">runLinking()</a></code>.</p>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rsss_fixedpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runRSSS.html">runRSSS</a></span><span class="op">(</span><span class="va">d</span>, <span class="va">link_fixedpar</span><span class="op">)</span></span></code></pre></div>
<p>The output from <code><a href="../reference/runRSSS.html">runRSSS()</a></code> includes three crosswalk
tables (labeled as <code>1</code>, <code>2</code>, and
<code>combined</code>), one for each scale and the third one for the
combined scale. In this vignette, the anchor scale (PROMIS Depression)
was coded as Scale 1 and the scale to be linked (CES-D) was coded as
Scale 2.</p>
<p>The crosswalk table for the scale to be linked (CES-D; Scale 2) is
shown here as an example.</p>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">rsss_fixedpar</span><span class="op">$</span><span class="va">`2`</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   raw_2 tscore tscore_se    eap eap_se escore_1 escore_2 escore_combined</span></span>
<span><span class="co">## 1    20   34.5       6.0 -1.554  0.599   28.455   21.105          49.560</span></span>
<span><span class="co">## 2    21   38.6       5.1 -1.139  0.509   29.340   21.851          51.192</span></span>
<span><span class="co">## 3    22   41.1       4.7 -0.892  0.473   30.503   22.523          53.026</span></span>
<span><span class="co">## 4    23   42.9       4.5 -0.713  0.455   31.836   23.154          54.991</span></span>
<span><span class="co">## 5    24   44.7       4.1 -0.534  0.412   33.735   23.950          57.685</span></span>
<span><span class="co">## 6    25   46.2       3.8 -0.382  0.382   35.853   24.777          60.630</span></span></code></pre>
<p>The columns in the crosswalk tables include:</p>
<ul>
<li>
<code>raw_2</code>: a raw score level in Scale 2 (CES-D; 20 items,
1-4 points each, raw score range = 20-80).</li>
<li>
<code>tscore</code>: the corresponding T-score in the anchor group
metric.</li>
<li>
<code>tscore_se</code>: the standard error associated with the
T-score.</li>
<li>
<code>eap</code>: the corresponding
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
in the anchor group metric.</li>
<li>
<code>eap_se</code>: the standard error associated with the
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
value.</li>
<li>
<code>escore_1</code>: the expected Scale 1 (PROMIS Depression) raw
score derived from
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>.</li>
<li>
<code>escore_2</code>: the expected Scale 2 (CES-D) raw score
derived from
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>.</li>
<li>
<code>escore_combined</code>: the expected Combined Scale raw score
derived from
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>.</li>
</ul>
<p>For example, row 6 in the above table shows:</p>
<ul>
<li>A raw score 25 points in CES-D corresponds to a T-score of 46.2 in
the anchor group.</li>
<li>A raw score 25 points in CES-D corresponds to
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>=</mo><mo>âˆ’</mo><mn>0.382</mn></mrow><annotation encoding="application/x-tex">\theta = -0.382</annotation></semantics></math>
in the anchor group, assuming the anchor group metric is
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î¸</mi><mo>âˆ¼</mo><mi>N</mi><mrow><mo stretchy="true" form="prefix">(</mo><mn>0</mn><mo>,</mo><mn>1</mn><mo stretchy="true" form="postfix">)</mo></mrow></mrow><annotation encoding="application/x-tex">\theta \sim N(0, 1)</annotation></semantics></math>.</li>
<li>A raw score 25 points in CES-D corresponds to an expected raw score
of 35.853 in the PROMIS Depression scale (raw score range =
28-140).</li>
<li>A raw score 25 points in CES-D corresponds to an expected raw score
of 60.630 in the combined scale (raw score range = 48-220).</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="scale-linking-score-based">Scale linking: score-based<a class="anchor" aria-label="anchor" href="#scale-linking-score-based"></a>
</h2>
<p>This section describes the workflow for performing a score-based
scale linking. This is done by <code><a href="../reference/runEquateObserved.html">runEquateObserved()</a></code>, which
performs equipercentile linking using observed raw sum-scores. The
function removes cases with missing responses to be able to generate
correct sum-scores in concordance tables.</p>
<p>This function requires four arguments:</p>
<ul>
<li>
<code>scale_from</code>: the scale ID of the scale to be
linked.</li>
<li>
<code>scale_to</code>: the scale ID of the anchor scale.</li>
<li>
<code>eq_type</code>: the type of equating to be performed,
<code>equipercentile</code> for this example. See
<code><a href="https://rdrr.io/pkg/equate/man/equate.html" class="external-link">?equate::equate</a></code> for details.</li>
<li>
<code>smooth</code>: the type of presmoothing to perform</li>
</ul>
<div class="section level3">
<h3 id="equipercentile-linking-raw-to-raw">Equipercentile linking: raw to raw<a class="anchor" aria-label="anchor" href="#equipercentile-linking-raw-to-raw"></a>
</h3>
<p>By default, <code><a href="../reference/runEquateObserved.html">runEquateObserved()</a></code> performs raw-raw
equipercentile linking. In this example, each raw sum-score in the
scale-to-be-linked (Scale 2; CES-D, raw score range 20-80) is linked to
a corresponding raw sum-score in the anchor scale (Scale 1; PROMIS
Depression, raw score range 28-140) with loglinear presmoothing.</p>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rsss_equate_raw</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runEquateObserved.html">runEquateObserved</a></span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  scale_from <span class="op">=</span> <span class="fl">2</span>, <span class="co"># CES-D (scale to be linked)</span></span>
<span>  scale_to <span class="op">=</span> <span class="fl">1</span>,   <span class="co"># PROMIS Depression (anchor scale)</span></span>
<span>  eq_type <span class="op">=</span> <span class="st">"equipercentile"</span>, smooth <span class="op">=</span> <span class="st">"loglinear"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The crosswalk table can be obtained from the <code>concordance</code>
slot:</p>
<div class="sourceCode" id="cb57"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rsss_equate_raw</span><span class="op">$</span><span class="va">concordance</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   raw_2    raw_1  raw_1_se raw_1_se_boot</span></span>
<span><span class="co">## 1    20 28.26881 0.1620936     0.1305916</span></span>
<span><span class="co">## 2    21 29.88299 0.3370778     0.2738646</span></span>
<span><span class="co">## 3    22 31.53492 0.5039397     0.4021354</span></span>
<span><span class="co">## 4    23 33.26052 0.6025077     0.5288394</span></span>
<span><span class="co">## 5    24 35.04116 0.7605541     0.6391904</span></span>
<span><span class="co">## 6    25 36.88206 0.9289581     0.8576881</span></span></code></pre>
<p>From row 6 in the above output, we see that:</p>
<ul>
<li>A raw score 25 points in CES-D corresponds to an expected raw score
of 36.882 in the PROMIS Depression scale (raw score range =
28-140).</li>
</ul>
</div>
<div class="section level3">
<h3 id="equipercentile-method-raw-to-t-score">Equipercentile method: raw to T-score<a class="anchor" aria-label="anchor" href="#equipercentile-method-raw-to-t-score"></a>
</h3>
<p>Alternatively, raw sum-scores can be linked to T-scores by specifying
<code>type_to = "tscore"</code> in <code><a href="../reference/runEquateObserved.html">runEquateObserved()</a></code>. In
the following example, the raw sum-scores from the scale-to-be-linked
(Scale 2; CES-D, raw score range 20-80) are linked to T-score
equivalents in the anchor scale (Scale 1; PROMIS Depression, mean = 50
and SD = 10).</p>
<p>This requires a separate RSSS table to be supplied for the purpose of
converting anchor scale raw scores to T-scores.</p>
<div class="sourceCode" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rsss_equate_tscore</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/runEquateObserved.html">runEquateObserved</a></span><span class="op">(</span></span>
<span>  <span class="va">d</span>,</span>
<span>  scale_from <span class="op">=</span> <span class="fl">2</span>, <span class="co"># CES-D (scale to be linked)</span></span>
<span>  scale_to <span class="op">=</span> <span class="fl">1</span>,   <span class="co"># PROMIS Depression (anchor scale)</span></span>
<span>  type_to <span class="op">=</span> <span class="st">"tscore"</span>,</span>
<span>  rsss <span class="op">=</span> <span class="va">rsss_fixedpar</span>, <span class="co"># used to convert PROMIS Depression (anchor scale) raw to T</span></span>
<span>  eq_type <span class="op">=</span> <span class="st">"equipercentile"</span>, smooth <span class="op">=</span> <span class="st">"loglinear"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Again, the crosswalk table can be retrieved from the
<code>concordance</code> slot:</p>
<div class="sourceCode" id="cb60"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">rsss_equate_tscore</span><span class="op">$</span><span class="va">concordance</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   raw_2 tscore_1 tscore_1_se tscore_1_se_boot</span></span>
<span><span class="co">## 1    20 33.60138   0.1015887        0.3741251</span></span>
<span><span class="co">## 2    21 38.46567   0.2970127        1.1185746</span></span>
<span><span class="co">## 3    22 41.72102   0.5244657        0.5600030</span></span>
<span><span class="co">## 4    23 43.93269   0.7283759        0.5983501</span></span>
<span><span class="co">## 5    24 45.56073   0.9008862        0.5708281</span></span>
<span><span class="co">## 6    25 46.96056   1.0676547        0.5935811</span></span></code></pre>
<p>From row 6 in the above output, we see that:</p>
<ul>
<li>A raw score 25 points in CES-D corresponds to a T-score of 46.961 in
the PROMIS Depression scale.</li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="comparison-between-linking-methods">Comparison between linking methods<a class="anchor" aria-label="anchor" href="#comparison-between-linking-methods"></a>
</h2>
<p>The plot below shows the scale link produced by the equipercentile
method (red dotted line) and the link produced by the fixed-parameter
calibration method (blue solid line).</p>
<div class="sourceCode" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">rsss_fixedpar</span><span class="op">$</span><span class="va">`2`</span><span class="op">$</span><span class="va">raw_2</span>,</span>
<span>  <span class="va">rsss_fixedpar</span><span class="op">$</span><span class="va">`2`</span><span class="op">$</span><span class="va">tscore</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"CES-D (Scale to be linked), raw score"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"PROMIS Depression (Anchor scale), T-score"</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"l"</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/lines.html" class="external-link">lines</a></span><span class="op">(</span></span>
<span>  <span class="va">rsss_equate_tscore</span><span class="op">$</span><span class="va">concordance</span><span class="op">$</span><span class="va">raw_2</span>,</span>
<span>  <span class="va">rsss_equate_tscore</span><span class="op">$</span><span class="va">concordance</span><span class="op">$</span><span class="va">tscore_1</span>,</span>
<span>  lty <span class="op">=</span> <span class="fl">2</span>, col <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/grid.html" class="external-link">grid</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/legend.html" class="external-link">legend</a></span><span class="op">(</span></span>
<span>  <span class="st">"topleft"</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fixed-Parameter Calibration"</span>, <span class="st">"Equipercentile Linking"</span><span class="op">)</span>,</span>
<span>  lty <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, col <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"blue"</span>, <span class="st">"red"</span><span class="op">)</span>, bg <span class="op">=</span> <span class="st">"white"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="PROsetta_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;"></p>
<p>To better understand the performance of the two methods, we add a
best-case method where pattern-scoring is used on the response data to
obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
estimates.</p>
<div class="section level3">
<h3 id="raw-scores-from-scale-2">Raw scores from Scale 2<a class="anchor" aria-label="anchor" href="#raw-scores-from-scale-2"></a>
</h3>
<p>To begin with, we create an object <code>scores</code> using
<code><a href="../reference/getScaleSum.html">getScaleSum()</a></code> to contain raw summed scores on Scale 2
(i.e., CES-D). <code>NA</code> will result for any respondents with one
or more missing responses on Scale 2. We could also create a summed
score variable for Scale 1 using the same function, e.g.,
<code>getScaleSum(d, 1)</code>.</p>
<div class="sourceCode" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getScaleSum.html">getScaleSum</a></span><span class="op">(</span><span class="va">d</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   prosettaid raw_2</span></span>
<span><span class="co">## 1     100048    21</span></span>
<span><span class="co">## 2     100049    21</span></span>
<span><span class="co">## 3     100050    24</span></span>
<span><span class="co">## 4     100051    26</span></span>
<span><span class="co">## 5     100052    20</span></span>
<span><span class="co">## 6     100053    21</span></span></code></pre>
</div>
<div class="section level3">
<h3 id="promis-t-scores-based-on-item-response-patterns">PROMIS T-scores based on item response patterns<a class="anchor" aria-label="anchor" href="#promis-t-scores-based-on-item-response-patterns"></a>
</h3>
<p>To establish an ideal case scenario, we obtain
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
estimates on the anchor scale (Scale 1; PROMIS Depression) based on item
response patterns using the <code><a href="../reference/getTheta.html">getTheta()</a></code> function.</p>
<p>The <code><a href="../reference/getTheta.html">getTheta()</a></code> function requires three arguments:</p>
<ul>
<li>The <code>data</code> argument requires a data object from
<code><a href="../reference/loadData.html">loadData()</a></code>. In this example, we use the object we created
earlier.</li>
<li>The <code>ipar</code> argument requires item parameter estimates for
all items. Here, we use the item parameter estimates that were
previously obtained from fixed-parameter calibration,
<code>out_link_fixedpar$ipar_linked</code>.</li>
<li>The <code>scale</code> argument requires a scale ID to perform
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
estimation on. Here, we use Scale 1 (the anchor scale; PROMIS
Depression).</li>
</ul>
<p>The function returns participant-wise EAP
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
estimates and their associated standard errors:</p>
<div class="sourceCode" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">theta_promis</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getTheta.html">getTheta</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">d</span>, ipar <span class="op">=</span> <span class="va">link_fixedpar</span><span class="op">$</span><span class="va">ipar_linked</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span><span class="op">$</span><span class="va">theta</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">theta_promis</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   prosettaid   theta_eap  theta_se</span></span>
<span><span class="co">## 1     100048 -0.42410653 0.1606312</span></span>
<span><span class="co">## 2     100049 -1.15269342 0.3229802</span></span>
<span><span class="co">## 3     100050  0.05281656 0.1176509</span></span>
<span><span class="co">## 4     100051 -0.04622278 0.1238298</span></span>
<span><span class="co">## 5     100052 -1.65063866 0.5049212</span></span>
<span><span class="co">## 6     100053 -0.55824065 0.1812502</span></span></code></pre>
<p>The
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>Î¸</mi><annotation encoding="application/x-tex">\theta</annotation></semantics></math>
estimates for PROMIS Depression are then converted to T-scores.</p>
<div class="sourceCode" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">t_promis_pattern</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  prosettaid <span class="op">=</span> <span class="va">theta_promis</span><span class="op">$</span><span class="va">prosettaid</span>,</span>
<span>  t_promis_pattern <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">theta_promis</span><span class="op">$</span><span class="va">theta_eap</span> <span class="op">*</span> <span class="fl">10</span> <span class="op">+</span> <span class="fl">50</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">t_promis_pattern</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   prosettaid t_promis_pattern</span></span>
<span><span class="co">## 1     100048             45.8</span></span>
<span><span class="co">## 2     100049             38.5</span></span>
<span><span class="co">## 3     100050             50.5</span></span>
<span><span class="co">## 4     100051             49.5</span></span>
<span><span class="co">## 5     100052             33.5</span></span>
<span><span class="co">## 6     100053             44.4</span></span></code></pre>
<p>These T-scores will be used as best-case scenario values in a later
stage for comparing different RSSS tables from different methods.</p>
<p>We then merge the PROMIS Depression T-scores with CES-D raw
scores.</p>
<div class="sourceCode" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">scores</span>, <span class="va">t_promis_pattern</span>, by <span class="op">=</span> <span class="st">"prosettaid"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   prosettaid raw_2 t_promis_pattern</span></span>
<span><span class="co">## 1     100048    21             45.8</span></span>
<span><span class="co">## 2     100049    21             38.5</span></span>
<span><span class="co">## 3     100050    24             50.5</span></span>
<span><span class="co">## 4     100051    26             49.5</span></span>
<span><span class="co">## 5     100052    20             33.5</span></span>
<span><span class="co">## 6     100053    21             44.4</span></span></code></pre>
<p>From the above output, we see that participant <code>100048</code>
(row 1) had scored a raw-score of 21 on CES-D, and their PROMIS
Depression T-score was 45.8. See how participants with the same raw
score of 21 have different T-scores in the above output, from the usage
of pattern scoring.</p>
</div>
<div class="section level3">
<h3 id="promis-t-scores-based-on-rsss-table-from-fixed-parameter-calibration">PROMIS T-scores based on RSSS table from fixed-parameter
calibration<a class="anchor" aria-label="anchor" href="#promis-t-scores-based-on-rsss-table-from-fixed-parameter-calibration"></a>
</h3>
<p>Second, we use the raw-score-to-scale-score (RSSS) crosswalk table
obtained above to map raw scores in the scale to be linked (Scale 2;
CES-D) onto T-scores on the anchor scale (Scale 1; PROMIS
Depression).</p>
<div class="sourceCode" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rsss_fixedpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  raw_2 <span class="op">=</span> <span class="va">rsss_fixedpar</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">raw_2</span>,</span>
<span>  t_promis_rsss_fixedpar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">rsss_fixedpar</span><span class="op">[[</span><span class="st">"2"</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">tscore</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">scores</span>, <span class="va">rsss_fixedpar</span>, by <span class="op">=</span> <span class="st">"raw_2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   raw_2 prosettaid t_promis_pattern t_promis_rsss_fixedpar</span></span>
<span><span class="co">## 1    20     100086             40.7                   34.5</span></span>
<span><span class="co">## 2    20     103937             33.5                   34.5</span></span>
<span><span class="co">## 3    20     100622             38.5                   34.5</span></span>
<span><span class="co">## 4    20     103946             33.5                   34.5</span></span>
<span><span class="co">## 5    20     101432             38.6                   34.5</span></span>
<span><span class="co">## 6    20     103645             33.5                   34.5</span></span></code></pre>
<p>From the above output, we see that CES-D raw scores of 20 were mapped
to T-scores of 34.5 using the RSSS table.</p>
</div>
<div class="section level3">
<h3 id="promis-t-scores-based-on-rsss-table-from-equipercentile-linking">PROMIS T-scores based on RSSS table from equipercentile linking<a class="anchor" aria-label="anchor" href="#promis-t-scores-based-on-rsss-table-from-equipercentile-linking"></a>
</h3>
<p>Next, we use the concordance table from equipercentile linking to map
each raw summed score on Scale 2 onto a T-score on the PROMIS Depression
metric, <code>t_cesd_eqp</code>.</p>
<div class="sourceCode" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rsss_eqp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  raw_2 <span class="op">=</span> <span class="va">rsss_equate_tscore</span><span class="op">$</span><span class="va">concordance</span><span class="op">$</span><span class="va">raw_2</span>,</span>
<span>  t_promis_rsss_eqp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="va">rsss_equate_tscore</span><span class="op">$</span><span class="va">concordance</span><span class="op">$</span><span class="va">tscore_1</span>, <span class="fl">1</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">scores</span>, <span class="va">rsss_eqp</span>, by <span class="op">=</span> <span class="st">"raw_2"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">scores</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   raw_2 prosettaid t_promis_pattern t_promis_rsss_fixedpar t_promis_rsss_eqp</span></span>
<span><span class="co">## 1    20     100086             40.7                   34.5              33.6</span></span>
<span><span class="co">## 2    20     103937             33.5                   34.5              33.6</span></span>
<span><span class="co">## 3    20     100622             38.5                   34.5              33.6</span></span>
<span><span class="co">## 4    20     103946             33.5                   34.5              33.6</span></span>
<span><span class="co">## 5    20     101432             38.6                   34.5              33.6</span></span>
<span><span class="co">## 6    20     103645             33.5                   34.5              33.6</span></span></code></pre>
<p>From the above output, we see that CES-D raw scores of 20 were mapped
to T-scores of 33.6 using the RSSS table.</p>
</div>
<div class="section level3">
<h3 id="comparison-of-rsss-tables">Comparison of RSSS tables<a class="anchor" aria-label="anchor" href="#comparison-of-rsss-tables"></a>
</h3>
<p>Finally, use <code><a href="../reference/compareScores.html">compareScores()</a></code> to compare which RSSS table
gives closer results to pattern-scoring.</p>
<div class="sourceCode" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">c_fixedpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compareScores.html">compareScores</a></span><span class="op">(</span></span>
<span>  <span class="va">scores</span><span class="op">$</span><span class="va">t_promis_pattern</span>, <span class="va">scores</span><span class="op">$</span><span class="va">t_promis_rsss_fixedpar</span><span class="op">)</span></span>
<span><span class="va">c_eqp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/compareScores.html">compareScores</a></span><span class="op">(</span></span>
<span>  <span class="va">scores</span><span class="op">$</span><span class="va">t_promis_pattern</span>, <span class="va">scores</span><span class="op">$</span><span class="va">t_promis_rsss_eqp</span><span class="op">)</span></span>
<span></span>
<span><span class="va">stats</span>           <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">c_fixedpar</span>, <span class="va">c_eqp</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">stats</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Fixed-parameter calibration"</span>, <span class="st">"Equipercentile"</span><span class="op">)</span></span>
<span><span class="va">stats</span></span></code></pre></div>
<pre><code><span><span class="co">##                                  corr        mean       sd     rmsd      mad</span></span>
<span><span class="co">## Fixed-parameter calibration 0.8212425  0.09425445 5.772118 5.772887 4.442818</span></span>
<span><span class="co">## Equipercentile              0.8153648 -0.01121751 5.849425 5.849436 4.450889</span></span></code></pre>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://education.utexas.edu/faculty/seung_choi" class="external-link">Seung W. Choi</a>, <a href="https://sdlim.com/" class="external-link">Sangdon Lim</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
